{"ast":null,"code":"/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\nmodule.exports = Headers;\n/**\n * Headers class\n *\n * @param   Object  headers  Response headers\n * @return  Void\n */\n\nfunction Headers(headers) {\n  var self = this;\n  this._headers = {}; // Headers\n\n  if (headers instanceof Headers) {\n    headers = headers.raw();\n  } // plain object\n\n\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) {\n      continue;\n    }\n\n    if (typeof headers[prop] === 'string') {\n      this.set(prop, headers[prop]);\n    } else if (typeof headers[prop] === 'number' && !isNaN(headers[prop])) {\n      this.set(prop, headers[prop].toString());\n    } else if (Array.isArray(headers[prop])) {\n      headers[prop].forEach(function (item) {\n        self.append(prop, item.toString());\n      });\n    }\n  }\n}\n/**\n * Return first header value given name\n *\n * @param   String  name  Header name\n * @return  Mixed\n */\n\n\nHeaders.prototype.get = function (name) {\n  var list = this._headers[name.toLowerCase()];\n\n  return list ? list[0] : null;\n};\n/**\n * Return all header values given name\n *\n * @param   String  name  Header name\n * @return  Array\n */\n\n\nHeaders.prototype.getAll = function (name) {\n  if (!this.has(name)) {\n    return [];\n  }\n\n  return this._headers[name.toLowerCase()];\n};\n/**\n * Iterate over all headers\n *\n * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n * @param   Boolean   thisArg   `this` context for callback function\n * @return  Void\n */\n\n\nHeaders.prototype.forEach = function (callback, thisArg) {\n  Object.getOwnPropertyNames(this._headers).forEach(function (name) {\n    this._headers[name].forEach(function (value) {\n      callback.call(thisArg, value, name, this);\n    }, this);\n  }, this);\n};\n/**\n * Overwrite header values given name\n *\n * @param   String  name   Header name\n * @param   String  value  Header value\n * @return  Void\n */\n\n\nHeaders.prototype.set = function (name, value) {\n  this._headers[name.toLowerCase()] = [value];\n};\n/**\n * Append a value onto existing header\n *\n * @param   String  name   Header name\n * @param   String  value  Header value\n * @return  Void\n */\n\n\nHeaders.prototype.append = function (name, value) {\n  if (!this.has(name)) {\n    this.set(name, value);\n    return;\n  }\n\n  this._headers[name.toLowerCase()].push(value);\n};\n/**\n * Check for header name existence\n *\n * @param   String   name  Header name\n * @return  Boolean\n */\n\n\nHeaders.prototype.has = function (name) {\n  return this._headers.hasOwnProperty(name.toLowerCase());\n};\n/**\n * Delete all header values given name\n *\n * @param   String  name  Header name\n * @return  Void\n */\n\n\nHeaders.prototype['delete'] = function (name) {\n  delete this._headers[name.toLowerCase()];\n};\n/**\n * Return raw headers (non-spec api)\n *\n * @return  Object\n */\n\n\nHeaders.prototype.raw = function () {\n  return this._headers;\n};","map":null,"metadata":{},"sourceType":"script"}