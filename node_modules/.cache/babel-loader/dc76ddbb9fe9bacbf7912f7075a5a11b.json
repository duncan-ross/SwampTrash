{"ast":null,"code":"/**\r\n * headers.js\r\n *\r\n * Headers class offers convenient helpers\r\n */\nmodule.exports = Headers;\n/**\r\n * Headers class\r\n *\r\n * @param   Object  headers  Response headers\r\n * @return  Void\r\n */\n\nfunction Headers(headers) {\n  var self = this;\n  this._headers = {}; // Headers\n\n  if (headers instanceof Headers) {\n    headers = headers.raw();\n  } // plain object\n\n\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) {\n      continue;\n    }\n\n    if (typeof headers[prop] === 'string') {\n      this.set(prop, headers[prop]);\n    } else if (typeof headers[prop] === 'number' && !isNaN(headers[prop])) {\n      this.set(prop, headers[prop].toString());\n    } else if (Array.isArray(headers[prop])) {\n      headers[prop].forEach(function (item) {\n        self.append(prop, item.toString());\n      });\n    }\n  }\n}\n/**\r\n * Return first header value given name\r\n *\r\n * @param   String  name  Header name\r\n * @return  Mixed\r\n */\n\n\nHeaders.prototype.get = function (name) {\n  var list = this._headers[name.toLowerCase()];\n\n  return list ? list[0] : null;\n};\n/**\r\n * Return all header values given name\r\n *\r\n * @param   String  name  Header name\r\n * @return  Array\r\n */\n\n\nHeaders.prototype.getAll = function (name) {\n  if (!this.has(name)) {\n    return [];\n  }\n\n  return this._headers[name.toLowerCase()];\n};\n/**\r\n * Iterate over all headers\r\n *\r\n * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\r\n * @param   Boolean   thisArg   `this` context for callback function\r\n * @return  Void\r\n */\n\n\nHeaders.prototype.forEach = function (callback, thisArg) {\n  Object.getOwnPropertyNames(this._headers).forEach(function (name) {\n    this._headers[name].forEach(function (value) {\n      callback.call(thisArg, value, name, this);\n    }, this);\n  }, this);\n};\n/**\r\n * Overwrite header values given name\r\n *\r\n * @param   String  name   Header name\r\n * @param   String  value  Header value\r\n * @return  Void\r\n */\n\n\nHeaders.prototype.set = function (name, value) {\n  this._headers[name.toLowerCase()] = [value];\n};\n/**\r\n * Append a value onto existing header\r\n *\r\n * @param   String  name   Header name\r\n * @param   String  value  Header value\r\n * @return  Void\r\n */\n\n\nHeaders.prototype.append = function (name, value) {\n  if (!this.has(name)) {\n    this.set(name, value);\n    return;\n  }\n\n  this._headers[name.toLowerCase()].push(value);\n};\n/**\r\n * Check for header name existence\r\n *\r\n * @param   String   name  Header name\r\n * @return  Boolean\r\n */\n\n\nHeaders.prototype.has = function (name) {\n  return this._headers.hasOwnProperty(name.toLowerCase());\n};\n/**\r\n * Delete all header values given name\r\n *\r\n * @param   String  name  Header name\r\n * @return  Void\r\n */\n\n\nHeaders.prototype['delete'] = function (name) {\n  delete this._headers[name.toLowerCase()];\n};\n/**\r\n * Return raw headers (non-spec api)\r\n *\r\n * @return  Object\r\n */\n\n\nHeaders.prototype.raw = function () {\n  return this._headers;\n};","map":{"version":3,"sources":["C:/Users/Gowal/Documents/GitHub/SwampTrash/node_modules/node-fetch/lib/headers.js"],"names":["module","exports","Headers","headers","self","_headers","raw","prop","hasOwnProperty","set","isNaN","toString","Array","isArray","forEach","item","append","prototype","get","name","list","toLowerCase","getAll","has","callback","thisArg","Object","getOwnPropertyNames","value","call","push"],"mappings":"AACA;;;;;AAMAA,MAAM,CAACC,OAAP,GAAiBC,OAAjB;AAEA;;;;;;;AAMA,SAASA,OAAT,CAAiBC,OAAjB,EAA0B;AAEzB,MAAIC,IAAI,GAAG,IAAX;AACA,OAAKC,QAAL,GAAgB,EAAhB,CAHyB,CAKzB;;AACA,MAAIF,OAAO,YAAYD,OAAvB,EAAgC;AAC/BC,IAAAA,OAAO,GAAGA,OAAO,CAACG,GAAR,EAAV;AACA,GARwB,CAUzB;;;AACA,OAAK,IAAIC,IAAT,IAAiBJ,OAAjB,EAA0B;AACzB,QAAI,CAACA,OAAO,CAACK,cAAR,CAAuBD,IAAvB,CAAL,EAAmC;AAClC;AACA;;AAED,QAAI,OAAOJ,OAAO,CAACI,IAAD,CAAd,KAAyB,QAA7B,EAAuC;AACtC,WAAKE,GAAL,CAASF,IAAT,EAAeJ,OAAO,CAACI,IAAD,CAAtB;AAEA,KAHD,MAGO,IAAI,OAAOJ,OAAO,CAACI,IAAD,CAAd,KAAyB,QAAzB,IAAqC,CAACG,KAAK,CAACP,OAAO,CAACI,IAAD,CAAR,CAA/C,EAAgE;AACtE,WAAKE,GAAL,CAASF,IAAT,EAAeJ,OAAO,CAACI,IAAD,CAAP,CAAcI,QAAd,EAAf;AAEA,KAHM,MAGA,IAAIC,KAAK,CAACC,OAAN,CAAcV,OAAO,CAACI,IAAD,CAArB,CAAJ,EAAkC;AACxCJ,MAAAA,OAAO,CAACI,IAAD,CAAP,CAAcO,OAAd,CAAsB,UAASC,IAAT,EAAe;AACpCX,QAAAA,IAAI,CAACY,MAAL,CAAYT,IAAZ,EAAkBQ,IAAI,CAACJ,QAAL,EAAlB;AACA,OAFD;AAGA;AACD;AAED;AAED;;;;;;;;AAMAT,OAAO,CAACe,SAAR,CAAkBC,GAAlB,GAAwB,UAASC,IAAT,EAAe;AACtC,MAAIC,IAAI,GAAG,KAAKf,QAAL,CAAcc,IAAI,CAACE,WAAL,EAAd,CAAX;;AACA,SAAOD,IAAI,GAAGA,IAAI,CAAC,CAAD,CAAP,GAAa,IAAxB;AACA,CAHD;AAKA;;;;;;;;AAMAlB,OAAO,CAACe,SAAR,CAAkBK,MAAlB,GAA2B,UAASH,IAAT,EAAe;AACzC,MAAI,CAAC,KAAKI,GAAL,CAASJ,IAAT,CAAL,EAAqB;AACpB,WAAO,EAAP;AACA;;AAED,SAAO,KAAKd,QAAL,CAAcc,IAAI,CAACE,WAAL,EAAd,CAAP;AACA,CAND;AAQA;;;;;;;;;AAOAnB,OAAO,CAACe,SAAR,CAAkBH,OAAlB,GAA4B,UAASU,QAAT,EAAmBC,OAAnB,EAA4B;AACvDC,EAAAA,MAAM,CAACC,mBAAP,CAA2B,KAAKtB,QAAhC,EAA0CS,OAA1C,CAAkD,UAASK,IAAT,EAAe;AAChE,SAAKd,QAAL,CAAcc,IAAd,EAAoBL,OAApB,CAA4B,UAASc,KAAT,EAAgB;AAC3CJ,MAAAA,QAAQ,CAACK,IAAT,CAAcJ,OAAd,EAAuBG,KAAvB,EAA8BT,IAA9B,EAAoC,IAApC;AACA,KAFD,EAEG,IAFH;AAGA,GAJD,EAIG,IAJH;AAKA,CAND;AAQA;;;;;;;;;AAOAjB,OAAO,CAACe,SAAR,CAAkBR,GAAlB,GAAwB,UAASU,IAAT,EAAeS,KAAf,EAAsB;AAC7C,OAAKvB,QAAL,CAAcc,IAAI,CAACE,WAAL,EAAd,IAAoC,CAACO,KAAD,CAApC;AACA,CAFD;AAIA;;;;;;;;;AAOA1B,OAAO,CAACe,SAAR,CAAkBD,MAAlB,GAA2B,UAASG,IAAT,EAAeS,KAAf,EAAsB;AAChD,MAAI,CAAC,KAAKL,GAAL,CAASJ,IAAT,CAAL,EAAqB;AACpB,SAAKV,GAAL,CAASU,IAAT,EAAeS,KAAf;AACA;AACA;;AAED,OAAKvB,QAAL,CAAcc,IAAI,CAACE,WAAL,EAAd,EAAkCS,IAAlC,CAAuCF,KAAvC;AACA,CAPD;AASA;;;;;;;;AAMA1B,OAAO,CAACe,SAAR,CAAkBM,GAAlB,GAAwB,UAASJ,IAAT,EAAe;AACtC,SAAO,KAAKd,QAAL,CAAcG,cAAd,CAA6BW,IAAI,CAACE,WAAL,EAA7B,CAAP;AACA,CAFD;AAIA;;;;;;;;AAMAnB,OAAO,CAACe,SAAR,CAAkB,QAAlB,IAA8B,UAASE,IAAT,EAAe;AAC5C,SAAO,KAAKd,QAAL,CAAcc,IAAI,CAACE,WAAL,EAAd,CAAP;AACA,CAFD;AAIA;;;;;;;AAKAnB,OAAO,CAACe,SAAR,CAAkBX,GAAlB,GAAwB,YAAW;AAClC,SAAO,KAAKD,QAAZ;AACA,CAFD","sourcesContent":["\r\n/**\r\n * headers.js\r\n *\r\n * Headers class offers convenient helpers\r\n */\r\n\r\nmodule.exports = Headers;\r\n\r\n/**\r\n * Headers class\r\n *\r\n * @param   Object  headers  Response headers\r\n * @return  Void\r\n */\r\nfunction Headers(headers) {\r\n\r\n\tvar self = this;\r\n\tthis._headers = {};\r\n\r\n\t// Headers\r\n\tif (headers instanceof Headers) {\r\n\t\theaders = headers.raw();\r\n\t}\r\n\r\n\t// plain object\r\n\tfor (var prop in headers) {\r\n\t\tif (!headers.hasOwnProperty(prop)) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (typeof headers[prop] === 'string') {\r\n\t\t\tthis.set(prop, headers[prop]);\r\n\r\n\t\t} else if (typeof headers[prop] === 'number' && !isNaN(headers[prop])) {\r\n\t\t\tthis.set(prop, headers[prop].toString());\r\n\r\n\t\t} else if (Array.isArray(headers[prop])) {\r\n\t\t\theaders[prop].forEach(function(item) {\r\n\t\t\t\tself.append(prop, item.toString());\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Return first header value given name\r\n *\r\n * @param   String  name  Header name\r\n * @return  Mixed\r\n */\r\nHeaders.prototype.get = function(name) {\r\n\tvar list = this._headers[name.toLowerCase()];\r\n\treturn list ? list[0] : null;\r\n};\r\n\r\n/**\r\n * Return all header values given name\r\n *\r\n * @param   String  name  Header name\r\n * @return  Array\r\n */\r\nHeaders.prototype.getAll = function(name) {\r\n\tif (!this.has(name)) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\treturn this._headers[name.toLowerCase()];\r\n};\r\n\r\n/**\r\n * Iterate over all headers\r\n *\r\n * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\r\n * @param   Boolean   thisArg   `this` context for callback function\r\n * @return  Void\r\n */\r\nHeaders.prototype.forEach = function(callback, thisArg) {\r\n\tObject.getOwnPropertyNames(this._headers).forEach(function(name) {\r\n\t\tthis._headers[name].forEach(function(value) {\r\n\t\t\tcallback.call(thisArg, value, name, this)\r\n\t\t}, this)\r\n\t}, this)\r\n}\r\n\r\n/**\r\n * Overwrite header values given name\r\n *\r\n * @param   String  name   Header name\r\n * @param   String  value  Header value\r\n * @return  Void\r\n */\r\nHeaders.prototype.set = function(name, value) {\r\n\tthis._headers[name.toLowerCase()] = [value];\r\n};\r\n\r\n/**\r\n * Append a value onto existing header\r\n *\r\n * @param   String  name   Header name\r\n * @param   String  value  Header value\r\n * @return  Void\r\n */\r\nHeaders.prototype.append = function(name, value) {\r\n\tif (!this.has(name)) {\r\n\t\tthis.set(name, value);\r\n\t\treturn;\r\n\t}\r\n\r\n\tthis._headers[name.toLowerCase()].push(value);\r\n};\r\n\r\n/**\r\n * Check for header name existence\r\n *\r\n * @param   String   name  Header name\r\n * @return  Boolean\r\n */\r\nHeaders.prototype.has = function(name) {\r\n\treturn this._headers.hasOwnProperty(name.toLowerCase());\r\n};\r\n\r\n/**\r\n * Delete all header values given name\r\n *\r\n * @param   String  name  Header name\r\n * @return  Void\r\n */\r\nHeaders.prototype['delete'] = function(name) {\r\n\tdelete this._headers[name.toLowerCase()];\r\n};\r\n\r\n/**\r\n * Return raw headers (non-spec api)\r\n *\r\n * @return  Object\r\n */\r\nHeaders.prototype.raw = function() {\r\n\treturn this._headers;\r\n};\r\n"]},"metadata":{},"sourceType":"script"}